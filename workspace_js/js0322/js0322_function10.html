<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수의 활용 5</title>
    <!-- 

     -->
</head>
<body>
    <h3>함수의 활용 5</h3>
    <script>
        // 1. 콜백 함수 - 기본함수를 매개변수로 사용
        function callThreeTimes(callback) {
            for(let i=0; i<3; i++) {
                callback(i);
            }
        }

        // 기본 함수 - 선언적 함수
        function print(i) {
            console.log(`${i}번째 함수 호출 (1)`);
        }

        // 콜백 함수 호출
        callThreeTimes(print);
        console.log("-----------------");

        // 2. 콜백 함수 - 
        // let print1 = function(i) {
        //     console.log(`${i}번째 함수 호출 (2)`);
        // }

        // 화살표 함수 
        let print2 = (i) => console.log(`${i}번째 함수 호출(2)`);

        // (2) 콜백 함수 호출 - 매개변수로 익명함수를 사용
        callThreeTimes(print2);
        console.log("------------------------");

        // (3) 콜백 함수 호출 - 매개변수로 익명함수를 그대로 사용
        // callThreeTimes(function(i) {
        //     console.log(`${i}번째 함수 호출 (3)`);
        // });
        callThreeTimes((i) => console.log(`${i}번째 함수 호출 (3)`));
        console.log("----------------");

        // 2. 콜백 함수를 활용한 메소드
        // forEach(): 배열의 요소를 차례대로 접근하는 메소드
        // map() : 콜백함수에서 리턴한 값을 기반으로 새로운 배열을 생성하는 메소드
        // filter() : 콜백함수에서 리턴한 값 중에서 true인 값을 모아 새로운 배열을 생성하는 메소드

        let scores = [95, 78, 66, 79, 82];
        let numbers = [];

        // 퀴즈1) scores 배열의 인덱스와 값을 출력하시오

        scores.forEach(function(value, index, array) { // 값, 인덱스, 배열명 순으로 적는다.
            console.log(`${index}번째 요소의 값: ${value}`);
        });
        console.log("----------------------");

        // 퀴즈2) scores배열의 모든 값을 제곱하여 numbers라는 배열에 저장하시오

        numbers = scores.map(function(value, index, array) {
                         return value * value;
                    });
        numbers.forEach(console.log);
        console.log("----------------");

        // 퀴즈3) scores배열 중에서 80점 이상인 점수만 저장하는 pass 배열을
        // 만들어보시오.
        // console.log(numbers);

        //scores 배열 중에서 80점 이상인 점수만 출력
        // let pass = scores.filter(function(value) {
        //     return value > 80;
        // })

        let pass = scores.filter((value) => value >=80);
        console.log(pass);
        console.log("----------------");

        // 3. 콜백함수의 종합 응용 문제
        // 퀴즈 4) arr 배열에서 짝수만 구하여, 그 값에 제곱을 하여
        // 출력하시오.

        let arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

        // 메소드 체이닝(chaining) : 메소드의 리턴값을 받아서 다시 사용하는 방법
        
        arr.filter((value) => value%2==0) // 데이터 선별
        .map((value,index,array) => value*value) //데이터 가공
        .forEach((value,index,array) => console.log(value)); // 
    </script>
    
</body>
</html>